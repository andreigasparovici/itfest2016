<% include partials/header %>

<link rel="stylesheet" href="/assets/css/style2.css">
<script src="/assets/js/dashboard.js"></script>

<div class="navbar navbar-default visible-xs">
  <div class="container-fluid">
    <button class="btn btn-default navbar-btn" data-toggle="collapse" data-target="#filter-sidebar">
      <i class="fa fa-tasks"></i> Toggle Sidebar
    </button>
  </div>
</div>

<div class="container-fluid">



  <div class="row">

    <div id="filter-sidebar" class="col-xs-6 col-sm-3 visible-sm visible-md visible-lg collapse sliding-sidebar">

      <div>
        <h4 data-toggle="collapse" data-target="#group-1">
          <i class="fa fa-fw fa-caret-down parent-expanded"></i>
          <i class="fa fa-fw fa-caret-right parent-collapsed"></i>
          Materie
        </h4>

        <div id="group-1" class="list-group collapse in">
          <a class="list-group-item" href="#">
            <label class="btn btn-primary btn-block"> <input type="checkbox"> Informatica</label>
          </a>
          <a class="list-group-item" href="#">
            <label class="btn btn-primary btn-block"> <input type="checkbox"> Informatica</label>
          </a>
          <a class="list-group-item" href="#">
            <label class="btn btn-primary btn-block"> <input type="checkbox"> Informatica</label>
          </a>
          <a class="list-group-item" href="#">
            <label class="btn btn-primary btn-block"> <input type="checkbox"> Informatica</label>
          </a>
        </div>
      </div>

      <div>
        <h4 data-toggle="collapse" data-target="#group-2">
          <i class="fa fa-fw fa-caret-down parent-expanded"></i>
          <i class="fa fa-fw fa-caret-right parent-collapsed"></i>
          Profesor
        </h4>

        <div id="group-2" class="list-group collapse in">
          <a class="list-group-item" href="#">
            <label class="btn btn-primary btn-block"><input type="checkbox"> Gigel</label>
          </a>
          <a class="list-group-item" href="#">
            <label class="btn btn-primary btn-block"><input type="checkbox">Gigel</label>
          </a>
          <a class="list-group-item" href="#">
            <label class="btn btn-primary btn-block"><input type="checkbox">George</label>
          </a>
          <a class="list-group-item" href="#">
            <label class="btn btn-primary btn-block"><input type="checkbox">Gigel</label>
          </a>
        </div>
      </div>
    </div>

    <!-- table container -->
    <div class="col-sm-9">
        <form class="form-inline">
          <div class="form-group">
            <label for="searchTerm">Name</label>
          </div> 
          <div class="form-group">
            <input type="text" class="form-control" id="searchTerm" placeholder="Search for...">
          </div>
        </form> 

        <table class="table table-striped table-hover table-responsive">
        <thead>
          <tr>
            <th>Title</th>
            <th>Type</th>
            <th class="align-right">Host</th>
          </tr>
        </thead>
        <tbody>
          <%  events.forEach(function(event){ %>
            <tr>
            <td class="valign-middle" data-label="Title">
              <a href="/class/<%=event._id%>"><%=event.name%></a>
            </td>
            <td class="valign-middle" data-label="Type">
              <%=event.eventType%>
            </td>
            <td class="valign-middle align-right" data-label="Host">
              <%=event.host%>
            </td>
          </tr>
          <% }); %>
        
        </tbody>
      </table>

    </div>

  </div>
</div>
<script>
var arr = window.location.pathname.split('/');
var jsonUrl = "/api/classes/";
if(arr.length == 3)
  jsonUrl += arr[arr.length - 1];
$('#searchTerm').autocomplete({
  source: jsonUrl,
  select: function (event, ui) {
      window.location = ui.item.url;
  }
});
</script>

<% include partials/footer %>